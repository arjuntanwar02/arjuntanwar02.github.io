<!DOCTYPE HTML>
<html>
<head>
	<title>Live Tracking | Tanwar Thesis</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>
<body class="is-preload">

	<div id="wrapper">

		<!-- Header -->
		<header id="header">
			<a href="index.html" class="logo">Tanwar Thesis</a>
		</header>

		<!-- Navigation -->
		<nav id="nav">
			<ul class="links">
				<li><a href="index.html">Home</a></li>
				<li><a href="macro.html">Macro</a></li>
				<li><a href="equities.html">Equities</a></li>
				<li><a href="watchlist.html">Watchlist</a></li>
				<li class="active"><a href="tracking.html">Live Tracking</a></li>
				<li><a href="about.html">About</a></li>
			</ul>
		</nav>
<section class="post">
	<header class="major">
		<h1>Conviction Portfolio</h1>
		<p>
			Public tracking of selected equities.
			Assumed 10 shares per position.
			Performance for transparency.
		</p>
	</header>

	<!-- PORTFOLIO SUMMARY -->
	<div id="portfolio-summary" style="padding:20px; background:#111; margin-bottom:30px; border-radius:8px;">
		<h2>Total Portfolio Value: <span id="totalValue">$0</span></h2>
		<p>
			Total Gain: <span id="totalGain">$0</span>
			(<span id="totalPercent">0%</span>)
		</p>
	</div>

	<hr />

	<!-- STOCK SELECTOR -->
	<h3>Select Position</h3>
	<ul id="stockList" style="list-style:none; padding:0;"></ul>

	<hr />

	<!-- CHART -->
	<div id="tv-chart" style="margin-top:30px;"></div>

	<p id="stockDetails" style="margin-top:20px;"></p>

	<p style="font-size:0.85em; margin-top:40px;">
		Live market data powered by TradingView.
		This does not constitute investment advice.
	</p>
</section>

		<!-- Main -->
		<div id="main">

			
		<script src="https://s3.tradingview.com/tv.js"></script>

<script>
const shares = 10;

const stocks = [
	{
		ticker: "NASDAQ:NVDA",
		name: "NVIDIA",
		dateAdded: "2026-02-13",
		entryPrice: 720
	},
	{
		ticker: "NASDAQ:MSFT",
		name: "Microsoft",
		dateAdded: "2026-02-10",
		entryPrice: 410
	}
];

let portfolioEntryTotal = 0;

function init() {
	renderStockList();
	selectStock(0);
}

function renderStockList() {
	const list = document.getElementById("stockList");
	list.innerHTML = "";
	portfolioEntryTotal = 0;

	stocks.forEach((stock, index) => {
		const entryTotal = stock.entryPrice * shares;
		portfolioEntryTotal += entryTotal;

		const li = document.createElement("li");
		li.style.padding = "10px";
		li.style.cursor = "pointer";
		li.style.borderBottom = "1px solid #222";
		li.innerHTML = `
			<strong>${stock.name}</strong>
			| Added: ${stock.dateAdded}
			| Entry: $${stock.entryPrice}
		`;

		li.onclick = () => selectStock(index);
		list.appendChild(li);
	});
}

function selectStock(index) {
	const stock = stocks[index];

	document.getElementById("tv-chart").innerHTML = "";

	new TradingView.widget({
		container_id: "tv-chart",
		width: "100%",
		height: 450,
		symbol: stock.ticker,
		interval: "D",
		timezone: "America/New_York",
		theme: "dark",
		style: "1",
		locale: "en",
		toolbar_bg: "#1f1f1f",
		enable_publishing: false,
		allow_symbol_change: false
	});

	// MOCK live pricing (replace later with API)
	const currentPrice = stock.entryPrice * 1.05;

	const entryTotal = stock.entryPrice * shares;
	const currentTotal = currentPrice * shares;

	const gain = currentTotal - entryTotal;
	const percent = ((gain / entryTotal) * 100).toFixed(2);

	document.getElementById("stockDetails").innerHTML = `
		Entry Total (10 shares): $${entryTotal.toFixed(2)} <br>
		Estimated Current Value: $${currentTotal.toFixed(2)} <br>
		Gain/Loss: $${gain.toFixed(2)} (${percent}%)
	`;

	updatePortfolioTotals();
}

function updatePortfolioTotals() {
	const portfolioCurrentTotal = portfolioEntryTotal * 1.05;
	const totalGain = portfolioCurrentTotal - portfolioEntryTotal;
	const totalPercent = ((totalGain / portfolioEntryTotal) * 100).toFixed(2);

	document.getElementById("totalValue").innerText =
		"$" + portfolioCurrentTotal.toFixed(2);

	document.getElementById("totalGain").innerText =
		"$" + totalGain.toFixed(2);

	document.getElementById("totalPercent").innerText =
		totalPercent + "%";
}

init();
</script>
		
</body>
</html>
